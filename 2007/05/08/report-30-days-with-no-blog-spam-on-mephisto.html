<div style='padding: 10px; border: 1px solid #555; background-color: #efefef;'>
<p><strong>[Update]</strong></p> 
<p>This <a href='/2007/4/4/howto-floodgate-mephisto-spam-protection' title='How to add a floodgate to Mephisto&apos;s nearly perfect spam protection'>little anti-spam trick</a> has been that efficient that I have had <strong>no</strong> blog comment spam to sort out for months (still counting). I therefore decided to "upgrade" to a slightly more sophisticated version (re-allowing commenters to add an email address) and re-vamped the whole thing as a more distributable Mephisto plugin instead of two shaky patches.</p>
<p><span style='text-decoration: line-through'>I'm going to put some notes about the new plugin asap.</span> I've added an article about the plugin now: <a href='/2007/9/25/inverse-captcha-anti-comment-spam-technique-now-a-regular-mephisto-plugin' title='Inverse Captcha Anti-Comment-Spam Technique: Now A Regular Mephisto Plugin - artweb design'>"Inverse Captcha Anti-Comment-Spam Technique: Now A Regular Mephisto Plugin"</a>.</p> 
<p>You may also want to refer to this page for additional information: <a href='/projects/mephisto-plugin-inverse-captcha-for-comments-anti-spam' title='Mephisto Plugin: Inverse Captcha for Comments (anti-spam)'>Mephisto Inverse Captcha Anti-Comment-Spam Plugin</a>.</p>
</div><h2>The story</h2><p>
<img title='flood wave metaphor for massive blog spam' src='/assets/2007/5/8/flood.jpg' height='291' alt='flood wave metaphor for massive blog spam' width='200' style='float:right;margin:0px 0px 12px 25px;' />
Last month (that was about one month after I had switched to Mephisto) I saw myself confronted with the annoying task to review a list of nearly 900 spammy comments. Backed by Akismet Mephisto had diligently sorted these comments aside and piled them up in the admin interface. 900 spam comments were awaiting my attention. Oha.</p><p>Actually, this even was a good thing! It meant that Akismet does an outstanding job. It's just been far too much for me to review these one-by-one and thus I came up with two things:</p><ul>
<li>a <a href='http://stuff.artweb-design.de/svn/patches/mephisto/comments_filter.diff'>patch</a> for Mephisto to add a <a href='/2007/4/4/patch-mephisto-to-add-a-comments-list-filter'>filter to the comments list</a> in the admin interface - so that I could sort out the most obvious and prevalent comments quickly by filtering the comments with e.g. "cialis" and then sweeping these in one go.</li>
<li>a <a href='http://stuff.artweb-design.de/svn/patches/mephisto/inverse_captcha.diff'>patch</a> that adds an additional layer to Mephistos spam protection using an <a href='/2007/4/4/howto-floodgate-mephisto-spam-protection'>"inverse captcha" technique</a> (to the best of my knowledge Damien Katz <a href='http://damienkatz.net/2007/01/negative_captch.html'>described</a> this first)</li>
</ul><p>This additional layer is ment to keep out the vast majority of stupid bots. It's clearly <strong>not</strong> failsafe and as soon as it's targeted by a programmer it's going to be broken in less than a wink. But actually that's not even a problem because everything that gets through this "outer floodgate" will be picked up by Mephistos great Akismet integration anyway.</p><p>And that's what I expected to happen this month: that there'd be at least <em>some</em> bots out there that use some kind of rendering engine and parse the markup and CSS. That these would have neutralized the "inverted captcha" technique and would have been able to get to the "inner gate". In other words I expected that I would have seen at least some spam to be picked up by Mephistos Akismet integration and piled in the admin interface.</p><h2>The results</h2><p>Well, what can I tell? It didn't happen. Nothing! Yes, literally. <a href='http://www.kaapeli.fi/~nihil/'>NOTHING</a>. Nil, null, nada. No more feeling of being confronted with crapheads dumping their garbage on me every day. </p><p><img title='quiet and peaceful beach metaphor for 30 days with no blog spam at all' src='/assets/2007/5/8/beach.jpg' height='199' alt='quiet and peaceful beach metaphor for 30 days with no blog spam at all' width='300' style='float:right;margin:0px 0px 12px 25px;' />
Hurray :)</p><p>If your interested in checking this out on your own blog here are some resources:</p><ul>
	<li><a href='/2007/4/4/howto-floodgate-mephisto-spam-protection'>my original article about this</a></li>
	<li><a href='http://stuff.artweb-design.de/svn/patches/mephisto/inverse_captcha.diff'>inverse_captcha.diff</a></li>
	<li><a href='http://stuff.artweb-design.de/svn/patches/mephisto/inverse_captcha_theme.diff'>inverse_captcha_theme.diff</a></li>
</ul><p>(Please note that the latter obviously will only apply to <em>my own blog theme</em> - you'll need to tweak this to implement it into your own theme accordingly.)</p><p>Alas! If there only where such a simple and effective way to better protect my e-mail inbox. But that's a differnt kind of story, I guess.</p><h2>The limitation</h2><p>Of course my present implementation of the "inverse captcha" technique comes with the price of not knowing any commenters email adresses any more.
I can think of two situations where this might be a problem:</p><ul>
	<li>you want to contact somebody who commented on your blog</li>
	<li>you want to display gravatar images alongside the comments on your blog</li>
</ul><p>I'm therefor planning to extend the current implementation to allow email addresses again but use a differently named field for them. Probably just obfuscating the field name in a simple, configurable way.</p><h2>Feedback?</h2><p>What do you think? </p><br /><p>PS: For mail servers there's "greylisting" as a relatively new technique. Both techniques have in common that they rely on a missing ability of a spam bot ... which I think is an interesting aspect.</p>