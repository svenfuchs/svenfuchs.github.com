<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="geo.region" content="DE-BE" />
    <meta name="geo.placename" content="Berlin" />
    <meta name="geo.position" content="52.51168;13.458236" />
    <meta name="ICBM" content="52.51168, 13.458236" />
    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/svenfuchs" />
    <link rel="openid.server" href="http://www.myopenid.com/server" />
    <link rel="openid.delegate" href="http://svenfuchs.myopenid.com/" />
    <link href="http://svenfuchs.com" rel="home" />
    <title>Engines for Rails 2.0 preview released</title>
    <link rel="stylesheet" href="/stylesheets/styles.css">
    <link rel="stylesheet" href="/stylesheets/highlight.css">
    <script src="/javascripts/highlight.js"></script>
  </head>
  <body>
    <div id="page">
  <div id="content">
    <p><a href="/">&larr; Home</a></p>

    <div id="post">
      <h1>Engines for Rails 2.0 preview released</h1>
      <p><em>Grab the plugin here:</em> <a href="http://svn.rails-engines.org/engines/trunk">http://svn.rails-engines.org/engines/trunk</a></p>

<p><em>In order to work with the new plugin loading mechanism in Rails 2.0, you'll also need to add a line to environment.rb, just after the require of Rails' boot file:</em></p>

<p><pre><code>require File.join(File.dirname(__FILE__), '../vendor/plugins/engines/boot')</code></pre></p>

<p><em>After that, you're good to go. Kick the tires, take it for a spin around the block, and please do let me know how it runs. There may be problems, we'll try and resolve them as you guys report them back.</em></p>

<p>(Update: I've just seen that there's also an <a href="http://rails-engines.org/news/2007/12/11/engines-2-0-ish/">announcement on the Rails Engines blog</a> which explains some additional details.)</p>

<p>My initial port amended Engines to use the new plugin architecture that Rails 2.0 now implements and it already covered probably 80% of the features of Engines. I also ported and revisited the test cases which by now run with 91 assertations in 49 tests.</p>

<p>James generously granted me commit access for the Engines repository and took care of some of the more challenging features (like fixing the ActionMailer integration) and factored out the entire ActionView part.</p>

<p>Working with James was a great joy and it's pretty cool to know that Engines is lead by a both rational and nice guy like him.</p>

<p>With now relying on Rails' own architecture for locating and loading plugins Engines' own code has slimmed down by a large part. It's quite telling to look at the <a href="http://rubyforge.org/projects/loc/">SLOC</a> of various Rails Engines releases:</p>

<pre>Rails Engines rel_1.1.0
---------------------------------------------
Files      SLOC      CLOC      BLOC      TLOC
   17      1104       506       273      1883

Rails Engines rel_1.2.1
---------------------------------------------
Files      SLOC      CLOC      BLOC      TLOC
   18       633       950       180      1763

Rails Engines for Rails 2.0 (current trunk)
---------------------------------------------
Files      SLOC      CLOC      BLOC      TLOC
   18       481       680       105      1266</pre>

<p>As you can see, Rails Engines is down to 50% of the SLOC of the 1.1.0 release and removed another 25% from the 1.2.1 release ... and that even still includes some general purpose support like sharing assets and testing plugins.</p>

<p>So, I think this is great news!</p>

<p>Rails Engines supplies the need to share controllers, models, views and stuff like routes and assets in a standarized way. It does this in the most reasonable and unobstrusive way I could think of by using the great new plugin architecture features that Rails 2.0 implements.</p>

    </div>

    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'svenfuchs';
        var disqus_title = '<%= page.title %>';
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  </div>
</div>

    <a href="http://svenfuchs.com" rel="me" ></a>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-24665870-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
